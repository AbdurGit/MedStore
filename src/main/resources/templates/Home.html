<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Welcome To MedStore</title>
<script src="lib/jquery-3.6.0.js" ></script>
<link rel="stylesheet" href="lib/bootstrap-4.0.0-dist/css/bootstrap.min.css">
<link rel="stylesheet" href="css/header.css">
<script src="lib/bootstrap-4.0.0-dist/js/bootstrap.min.js" ></script>
<script src="js/header.js" ></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

<style>
 .updatePdt{
   margin-left: 5px;
 }
  @media (min-width: 576px) {
.card-columns {
  column-count: 2;
}
}

@media (min-width: 768px) {
.card-columns {
  column-count: 3;
}
}

@media (min-width: 992px) {
.card-columns {
  column-count: 4;
}
}

@media (min-width: 1200px) {
.card-columns {
  column-count: 4 ;
}
}
.btnContent{
  text-align: center;
  margin-top: 20px;
  margin-bottom: 20px;
}
.card:hover{
box-shadow: 1px 1px 20px #ccc;


}
.card{
 transition:  box-shadow 0.3s;


}


</style>
<script>
$(document).ready(function () {

  $(".filter-btn").click(function(){
    var allClass=$(this).attr("class");
    var btnId=$(this).attr("id");
    var allPdtBtn=$("#showAllPdt");
    var inStoreBtn=$("#showInStorePdt");
    var expiredBtn=$("#showExpiredPdt");
    var soldBtn=$("#showSoldPdt");
      
    if( allClass.includes("btn-outline-primary")){
      $(this).removeClass("btn-outline-primary").addClass("btn-primary");

      if(expiredBtn.attr("class").includes("btn-danger")){
        expiredBtn.removeClass("btn-danger").addClass("btn-outline-danger");
      }

      if(inStoreBtn.attr("class").includes("btn-success")){
        inStoreBtn.removeClass("btn-success").addClass("btn-outline-success");
      }

      if(soldBtn.attr("class").includes("btn-warning")){
        soldBtn.removeClass("btn-warning").addClass("btn-outline-warning");
      }
     
      
      


    }else if(allClass.includes("btn-outline-danger")){
      $(this).removeClass("btn-outline-danger").addClass("btn-danger");

      
      if(allPdtBtn.attr("class").includes("btn-primary")){
        allPdtBtn.removeClass("btn-primary").addClass("btn-outline-primary");
      }

      if(inStoreBtn.attr("class").includes("btn-success")){
        inStoreBtn.removeClass("btn-success").addClass("btn-outline-success");
      }

      if(soldBtn.attr("class").includes("btn-warning")){
        soldBtn.removeClass("btn-warning").addClass("btn-outline-warning");
      }

      
    }else if(allClass.includes("btn-outline-success")){
      $(this).removeClass("btn-outline-success").addClass("btn-success");

      if(allPdtBtn.attr("class").includes("btn-primary")){
        allPdtBtn.removeClass("btn-primary").addClass("btn-outline-primary");
      }

      if(expiredBtn.attr("class").includes("btn-danger")){
        expiredBtn.removeClass("btn-danger").addClass("btn-outline-danger");
      }

      if(soldBtn.attr("class").includes("btn-warning")){
        soldBtn.removeClass("btn-warning").addClass("btn-outline-warning");
      }


    }else if(allClass.includes("btn-outline-warning")){
      $(this).removeClass("btn-outline-warning").addClass("btn-warning");

      if(allPdtBtn.attr("class").includes("btn-primary")){
        allPdtBtn.removeClass("btn-primary").addClass("btn-outline-primary");
      }

      if(expiredBtn.attr("class").includes("btn-danger")){
        expiredBtn.removeClass("btn-danger").addClass("btn-outline-danger");
      }

      if(inStoreBtn.attr("class").includes("btn-success")){
        inStoreBtn.removeClass("btn-success").addClass("btn-outline-success");
      }

      
    }
  })

  $.ajax({
          type: "GET",
          url: "http://192.168.1.102:8080/getAllProducts",
         
          success: function (data) {
            console.log(data);

            var cardColumnHtml="";
            for(var i=0;i<data.length;i++){
              record=data[i];

              var html="<div class=\"card\">";
                var html2="";
              if((record.productImagePath).split(".").pop()=="jpg"||(record.productImagePath).split(".").pop()=="png"||(record.productImagePath).split(".").pop()=="jpeg"){
                 html2="<img class=\"card-img-top\" src=\""+"images/"+record.productImagePath+"\" alt=\"No Image\">";
              }

              
              
              
              var html3="<div class=\"card-body\"><h5 class=\"card-title\">"+record.productName+"</h5>"+
                 
            "<div class=\"prop\"> <i class=\"bi bi-calendar3\"></i> <small>Manufacturing </small><br><small>"+record.mfgDate+"</small> </div> <div class=\"prop\">"+
            "<i class=\"bi bi-calendar3\"></i><small> Expiry </small><br><small>"+record.expDate+" </small></div><small class=\"card-text\">"+record.productDesc+"</small>"+
          "<div style=\"margin-top: 10px;\"><a href=\"#\" class=\"btn btn-sm btn-outline-primary viewpdt\" id=\"viewpdt\" data-id=\""+record.id+"\">Open</a><a href=\"#\" class=\"btn btn-sm btn-outline-primary updatePdt\" id=\"updatePdt\" data-id=\""+record.id+"\">Update</a>"+
            "</div> </div></div>";
            html=html+html2+html3;
            cardColumnHtml+=html;
            }

            $("#cardColumnContainer").html(cardColumnHtml);



            

          },
          error: function (xhr, status, error) {

            alert("Exception occured!");
            console.log(xhr.responseText);
          }

        });


});


</script>

</head>

<body style="background: #eee;">

  <nav class="navbar navbar-expand-lg navbar-light bg-light" style="box-shadow: 1px 1px 11px #ddd;position: relative;">
    <a class="navbar-brand" href="#" style="color: #dc3563;">Med Store</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02"
      aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse navbar-center" id="navbarTogglerDemo02">
      <ul class="navbar-nav  mr-auto mt-2 mt-lg-0 navul">
      <li class="nav-item liclicked">
          <a class="nav-link navclicked" href="http://192.168.1.102:8080/medstore" id="loadHomePage">Home <span
              class="sr-only">(current)</span></a>
        </li> 
        <li class="nav-item ">
          <a class="nav-link " href="http://192.168.1.102:8080/pdtListPage"
            id="loadAllProductsPage">Products</a>
        </li>
        <!-- <li class="nav-item">
          <a class="nav-link" href="#">Category</a>
        </li> -->
        <li class="nav-item">
          <a class="nav-link" href="http://192.168.1.102:8080/pdtUploadPage" id="loadProductUploadPage">Upload</a>
        </li>
        <!-- <li class="nav-item">
          <a class="nav-link" href="http://192.168.1.102:8080/advancedSearchPage" id="loadAdvSearchPage">Advanced
            Search</a>
        </li> -->

      </ul>
      <!-- <form class="form-inline my-2 my-lg-0">
      <input class="form-control mr-sm-2" type="search" placeholder="Search">
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
    </form> -->
    </div>
  </nav>
  <div class="container">
    <div class="btnContent">
      <button class="btn btn-sm btn-primary filter-btn" id="showAllPdt">All</button>
   
    
      <button class="btn btn-sm btn-outline-success filter-btn" id="showInStorePdt">In Store</button>
   
    
      <button class="btn btn-sm btn-outline-danger filter-btn" id="showExpiredPdt">Expired</button>
    
  
      <button class="btn btn-sm btn-outline-warning filter-btn" id="showSoldPdt">Sold</button>
    </div>
    
    
    <div class="card-columns" id="cardColumnContainer">

      </div>
   
    

</body>
</html>